package com.gjun.service;


import java.sql.Connection;
import java.sql.SQLException;

import javax.servlet.ServletContext;
import javax.sql.DataSource;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;
import javax.ws.rs.core.Context;

import com.gjun.beans.MyCustomers;
import com.gjun.domain.IDao;
import com.gjun.domain.MyCustomersDao;

@Path("/Customers")
public class CustomersService {
	IDao<MyCustomers> dao = new MyCustomersDao();
	@Path("/custqry/rawdata")
	@GET
	@Produces("text/plain")
	//傳遞國家別 進行相關客戶查詢服務 採用QueryString傳遞國家別../custqry/rawdata?country=xxx
	public String customersQry(@Context ServletContext application,@QueryParam("country")String country) {
		DataSource datasource = (DataSource) application.getAttribute("datasource");
		dao.setDataSource(datasource);
		
		return dbName;
	}
	
}
